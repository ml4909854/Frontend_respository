<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <section>
        <h1 style="text-align: center;">Name of the Employee</h1>
        <form class="form">
            <p>Name of the employee</p>
            <input type="text" placeholder="eg.mahesh kumar">
            <p>Employee id</p>
            <input type="text" placeholder="eg.25343">
            <p>Department</p>
            <select name="" id="">
                <option value="frontend" selected>frontend</option>
                <option value="backend">backend</option>
                <option value="fullStack">fullStack</option>
            </select>
            <p>experience in years</p>
            <input type="text" placeholder="eg.6">
            <p>email Address</p>
            <input type="text" placeholder="eg.ml490234@gmail.com">
            <p>Mobile Number</p>
            <input type="text" placeholder="ebg.850235893">
            <input id="submit" type="submit">
        </form>
        
    </section>
    <div id="displayData">

    </div>
</body>
<script>
let form = document.querySelector(".form");
let displayData = document.getElementById("displayData");
let data = [];

form.addEventListener("submit", function (e) {
    e.preventDefault();
    console.log("form is submitted");

    let employname = e.target[0].value;
    let employId = e.target[1].value;
    let Department = e.target[2].value;
    let experience = e.target[3].value;
    let email = e.target[4].value;
    let mobile = e.target[5].value;

    let obj = {
        id: Math.random().toString(),
        employname: employname,
        employId: employId,
        Department: Department,
        experience: experience,
        email: email,
        mobile: mobile
    };

    data.push(obj);
    saveData(); // Save to localStorage
    showData(data);
});

function showData(data) {
    displayData.innerHTML = '';

    data.forEach(element => {
        let ul = document.createElement("ul");

        let li0 = document.createElement("li");
        li0.innerHTML = element.id;

        let li1 = document.createElement("li");
        li1.innerHTML = element.employname;

        let li2 = document.createElement("li");
        li2.innerHTML = element.employId;

        let li3 = document.createElement("li");
        li3.innerHTML = element.Department;

        let li4 = document.createElement("li");
        li4.innerHTML = element.experience;

        let li5 = document.createElement("li");
        li5.innerHTML = element.email;

        let li6 = document.createElement("li");
        li6.innerHTML = element.mobile;

        ul.append(li0, li1, li2, li3, li4, li5, li6);
        displayData.append(ul);
    });
}

function saveData() {
    localStorage.setItem("todos", JSON.stringify(data));
}

function LoadData() {
    let store = JSON.parse(localStorage.getItem("todos"));
    if (store) {
        data = store;
    }
    showData(data);
}

LoadData();

</script>
</html>